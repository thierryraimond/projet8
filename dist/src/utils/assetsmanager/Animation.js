define(["src/utils/assetsmanager/AnimationList","src/utils/assetsmanager/AnimationManager","src/utils/math/Vector2"],function(e,t,n){var r=function(r){this.animTimer=Date.now(),this.paused=!1,this.anim=e.get(r),this.currentState=this.anim.state[this.anim.state.default],this.currentKey=0,this.clipCoord={sposition:new n(this.currentState.key[this.currentKey].x,this.currentState.key[this.currentKey].y),swidth:this.currentState.key[this.currentKey].width,sheight:this.currentState.key[this.currentKey].height},t.list.push(this)};return r.prototype.update=function(){Date.now()-this.animTimer>=this.currentState.animSpeed&&!this.paused&&(this.currentKey++,this.currentState.key.length<=this.currentKey&&(this.currentKey=0),this.clipCoord.sposition.x=this.currentState.key[this.currentKey].x,this.clipCoord.sposition.y=this.currentState.key[this.currentKey].y,this.clipCoord.swidth=this.currentState.key[this.currentKey].width,this.clipCoord.sheight=this.currentState.key[this.currentKey].height,this.animTimer=Date.now())},r.prototype.setState=function(e){this.currentState!=this.anim.state[e]&&(this.animTimer=Date.now(),this.currentState=this.anim.state[e],this.currentKey=0,this.clipCoord={sposition:new n(this.currentState.key[this.currentKey].x,this.currentState.key[this.currentKey].y),swidth:this.currentState.key[this.currentKey].width,sheight:this.currentState.key[this.currentKey].height})},r.prototype.stop=function(){this.currentKey=0,this.paused=!0,this.clipCoord.sposition.x=this.currentState.key[this.currentKey].x,this.clipCoord.sposition.y=this.currentState.key[this.currentKey].y,this.clipCoord.swidth=this.currentState.key[this.currentKey].width,this.clipCoord.sheight=this.currentState.key[this.currentKey].height},r.prototype.pause=function(){this.paused=!0},r.prototype.resume=function(){this.paused=!1},r.prototype.destroy=function(){t.list.splice(t.list.indexOf(this),1)},r});